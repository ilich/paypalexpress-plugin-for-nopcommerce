@model Nop.Plugin.Payments.PayPalExpressCheckout.Models.PaymentInfoModel
@{ var error = TempData["paypal-ec-error"]; }

<img id="payPalExpressCheckoutImage" alt="" src="@Model.ButtonImageLocation" style="cursor:pointer;" />

@if (error != null)
{
    <p class="error">@error</p>
}
<script type="text/javascript">
    $(document).ready(function () {
        $('#payPalExpressCheckoutImage').click(function () {
            //terms of service
            var termOfServiceOk = true;
            if ($('#termsofservice').length > 0) {
                //terms of service element exists
                if (!$('#termsofservice').is(':checked')) {
                    $("#terms-of-service-warning-box").dialog();
                    termOfServiceOk = false;
                } else {
                    termOfServiceOk = true;
                }
            }
            if (termOfServiceOk) {
                setLocation('@Url.RouteUrl("Plugin.Payments.PayPalExpressCheckout.SubmitButton")');
            }
        });
    });
</script>